<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <!-- google fonts -->
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link
      href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Montserrat:wght@400;500;600;700&display=swap"
      rel="stylesheet">
   <!-- bootstrap cdn -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
   <!-- font awesome cdn -->
   <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
   <!-- custom css -->
   <link rel="stylesheet" href="/Styles/book.css">
   <title>Book Archive</title>
   <style>
    body, h1, h2, p {
        margin: 0;
        padding: 0; 
        box-sizing: border-box;
    }
h1,h7{
    margin-left: 550px;
}
    
        
    
    /* Style the header */
    .header {
        background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMhLNt1lSKPVrBb_11qTm9AE6KEiqvEeU1yzNQaeG539DyrjwsB04SeQQRp2Hv5JQ_cA&usqp=CAU') center/cover no-repeat;
        color: #fff;
        text-align: center;
        padding: 50px 0;
        
        border-bottom: #0c0606 solid 2px;
       
        height: auto;
    }
    
    .poster {
        text-align: center;
        overflow: hidden;
        background: url('https://images.unsplash.com/photo-1508615039623-a25605d2b022?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8c2xpZGUlMjBiYWNrZ3JvdW5kfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60') center/cover no-repeat;
        height: 1800px; /* Adjust the height as needed */
    }
    
    .poster img {
        display: none; /* Hide the img element */
    }
    
    .poster-1{
        text-align: center;
        overflow: hidden;
        width: 100%;
    }
    
    .poster-1 img{
        width: 100%;
        height:Â 400px;
    }
    
    /* Style the menu bar */
    .menu {
        background-color: #14213d;
        color: #fff;
        padding: 10px 0;
        text-align: center;
        border-bottom: #0c0606 solid 2px;
    }
    
    .menu ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
        display: flex;
        justify-content: space-around;
    }
    
    
    
    .menu a {
        text-decoration: none;
        /* border-right: #0d169f solid 1px;
        border-left: #0d169f solid 1px; */
        color: #fff;
        font-weight: bold;
        padding: 10px 20px;
        display: block;
        transition: color 0.3s;
    }
    
    .menu a:hover {
        color: #010406;
    }

/* Style the poster image */
.poster {
    text-align: center;
    overflow: hidden;
}

.poster img {
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    transition: transform 0.3s;
}



/********** Responsive Design ********/
@media(max-width:900px)
{
  .row{
    flex-direction: column;
  }
  .col{
    width: 100%;
    text-align: left;
    margin-bottom: 25px;
  }
}
@media(max-width:768px)
{
  .row{
    flex-direction: column;
  }
  .col{
    width: 100%;
    text-align: left;
    margin-bottom: 20px;
  }
}

* {
   margin: 0;
   padding: 0;
   box-sizing: border-box;
}

body {
   font-family: "Roboto", sans-serif;
   font-weight: 400;
   background: #fff;
} 

.btn:focus,
.form-control:focus {
   outline: 0;
   box-shadow: 0 0 0 0rem rgb(13 110 253 / 25%) !important;
}

#mainSection {
   display: flex;
   align-items: center;
   height: 100vh;
}
#mainDiv {
   background: #fff;
   width: 100%;
   height: 100%;
   padding: 15px;
   /* overflow: hidden; */
}

/* header area start here */
.header {
   display: flex;
   padding: 15px;
}
.header .part2 {
   margin-left: auto;
   display: flex;
   align-items: center;
}
.header .part2 .profile {
   width: 48px;
   height: 48px;
   border-radius: 100px;
}
.header .part2 a img {
   width: 24px;
}
.header .part2 a {
   margin: 0 10px;
}
.header .part2 a:last-child {
   margin-right: 0;
}

/* section header part */
.header-text h1 {
   font-family: "Roboto", sans-serif;
   color: #2b1811;
   font-size: 48px;
   font-weight: 600;
   margin-bottom: 15px;
}
.header-text p {
   color: #2b1811;
   margin-bottom: 15px;
}
.header-text .input-group {
   max-width: 500px;
   margin: auto;
   margin-top: 30px;
   margin-bottom: 30px;
   border-radius: 100px;
   background: #fff;
   overflow: hidden;
   border-color: #14213d ;
   border-style: solid;
}
.header-text .input-group .form-control {
   height: 60px;
   border: none;
   background: #fff;
   border-color: #14213d ;
}
.header-text .input-group .btn {
   background: none;
   border: none;
   padding: 0;
   padding-left: 25px;
   padding-top: 5px;
   padding-right: 5px;
}
.header-text .input-group .btn .fas {
   color: #CD7F32;
   font-size: 20px;
}

/* book container start here */
#bookContainer {
   /* overflow-y: auto;
   height: 600px; */
}
#bookContainer::-webkit-scrollbar {
   width: 0px;
   height: 10px;
}
.book-box {
   display: flex;
   align-items: flex-end;
   margin-bottom: 30px;
}
.book-box .book-img {
   min-width: 160px;
   min-height: 200px;
   max-width: 160px;
   max-height: 200px;
   margin-right: 15px;
   /* box-shadow: 10px 10px 50px -35px; */
   border: 2px solid #fff;
}
.book-box .book-info .title {
   font-family: "Roboto", sans-serif;
}
.book-box .book-info p {
   font-size: 14px;
}

/* not found area start here */
#notFound {
   text-align: center;
   width: 300px;
   margin: auto;
   display: none;
}
#notFound h5 {   
   font-family: "Roboto", sans-serif;
   font-weight: 600;
}

/* loader */
#loader {
   display: none;
   margin-top: 35px;
}

/* responsive media queries */
@media (max-width: 576px) {
   #mainDiv {
      padding: 0;
   }
   .header {
      margin-bottom: 30px;
   }
   .header-text h1 {
      font-size: 32px;
   }
   .header-text p {
      margin-bottom: 0;
   }
}



   </style>
</head>

<body>

         <!-- Header Section -->
    
    <header class="header">
      <div class="header-content">
          <h1>Welcome to HackXcelerate </h1>
          <h7>Your Comprehensive Support System</h7>
      </div>
  </header>

  <!-- Menu Bar -->
  <nav class="menu">
      <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About us</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="financial.html">Finance Guide</a></li>
          <li><a href="student.html">Student Help</a></li>
          <li><a href="women.html">Women Empowerment</a></li>
          <li><a href="health.html">Health and Fitness</a></li>
          <li><a href="other.html">Other</a></li>
          <!-- Add more menu items as needed -->
      </ul>
  </nav>
  

         <!-- main section -->
         <section>
            <div class="container">
               <div class="row">
                  <div class="col">
                     <div class="header-text text-center">
                        <br><br>
                        <h2 style="font-weight: bold;">Book Search</h2>
                        <p>Today a reader Tomorrow a leader.</p>
                        <div class="input-group">
                           <button onclick="getBook()" class="btn" type="button" id="searchBtn">
                              <img src="/images/search.png" alt="">
                           </button>
                           <input id="inputField" type="text" class="form-control" value=""
                              placeholder="Search by books name">
                        </div>
                     </div>
                  </div>
               </div>
               <div id="loader" class="text-center">
                  <div class="spinner-border" role="status"></div>
               </div>
               <div id="showBooks">
                  <div class="row">
                     <p id="foundedData"></p>
                     <div id="notFound">
                        <img class="img-fluid mb-5" src="/images/download.png" alt="">
                        <h5>No results found :</h5>
                     </div>
                  </div>
                  <div id="bookContainer" class="row"></div>
               </div>
            </div>
         </section>

      </div>
   </section>

   <!-- Footer Section -->

   <script>
    const toggleSpinner = style => {
   document.getElementById("loader").style.display = style;
}
const toggleSearchResult = style => {
   document.getElementById("showBooks").style.display = style;
}

// load api data 
const getBook = () => {
   const inputField = document.getElementById("inputField")
   const inputValue = inputField.value;

   toggleSpinner("block")
   toggleSearchResult("none")

   fetch(`https://openlibrary.org/search.json?q=${inputValue}`)
   .then(res => res.json())
   .then(data => {
      displayBooks(data) 
   })
   .catch((err) => {
      document.getElementById("notFound").style.display = "block"; // api error handling
      console.log(err);
   })
}

// display api data on html
const displayBooks = (data) => {
   const bookContainer = document.getElementById("bookContainer");
   const foundedData = document.getElementById("foundedData")
   bookContainer.innerHTML = '';
   const books = data.docs;

   // console.log(books.length);
   
   books.forEach(book => {
      const {title, author_name, first_publish_year, cover_i, publisher} = book;

      const div = document.createElement("div");
      div.classList = "col-sm-6 col-lg-4"
      div.innerHTML = `
         <div id="bookBox" class="book-box">
            <img class="shadow book-img" src="${`https://covers.openlibrary.org/b/id/${cover_i}-M.jpg`}" alt="">
            <div class="book-info">
               <h5 class="title">${title.slice(0, 10)}</h5>
               <p>By: ${author_name}</p>
               <p>Publish year: ${first_publish_year}</p>
               <p class="mb-0">Publisher: ${publisher}</p>
            </div>
         </div>
      `;
      bookContainer.appendChild(div)
   });
   // founded book quantity shown here
   if (books.length === 0) {
      foundedData.innerHTML = `No results found!`;
      document.getElementById("notFound").style.display = "block";
   }
   else {
      foundedData.innerHTML = `${books.length} results shown from ${data.numFound}`
      document.getElementById("notFound").style.display = "none";
   }

   toggleSpinner("none")
   toggleSearchResult("block")
}

// make working search button on enter click
document.getElementById("inputField").addEventListener("keypress", function(event) {
   if (event.key === "Enter") {
      document.getElementById("searchBtn").click();
   }
})
   </script>
    


   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
   <script src="/script/book.js"></script>

</body>

</html>